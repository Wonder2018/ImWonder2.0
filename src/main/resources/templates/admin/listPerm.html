<!DOCTYPE html>
<html lang="zh_CN">
    <head th:replace="admin/fragments :: common_header(~{::title},~{::#comcss},_)">
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
        <title>I'm Wonder - 管理控制台 - 权限管理</title>
        <link rel="stylesheet" href="../../static/assets/vendors/bootstrap/css/bootstrap.min.css" />
        <link rel="stylesheet" href="../../static/assets/vendors/hovercss/hover-min.css" />
        <link rel="stylesheet" href="../../static/assets/css/common/common.css" />
        <!--/*/ <th:block id="comcss"> /*/-->
        <link rel="stylesheet" href="../../static/assets/css/datatable.css" th:href="@{~/assets/css/datatable.css}" />
        <!--/*/ </th:block> /*/-->
    </head>

    <body th:replace="admin/fragments :: common_body(~{::#pagecontent},~{::#initjson},~{::#comjs},~{::#prijs})">
        <div class="container-fluid">
            <!--/*/ <th:block id="pagecontent"> /*/-->
            <button class="btn btn-primary" dt-type="adro" onclick="datatable.add(tbjson,'.table')">添加权限</button>
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>序号</th>
                        <th>权限 ID</th>
                        <th>权限名称</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="perm,ite : ${lperm}" th:data-id="|tb${perm.id}|">
                        <td th:text="${ite.count}"></td>
                        <td th:text="${perm.id}" edit-type="comtext" edit-key="id"></td>
                        <td th:text="${perm.name}" edit-type="comtext" edit-key="name"></td>
                        <td>
                            <button class="btn btn-primary" dt-type="edit" th:onclick="datatable.edit([[${perm.id}]])">编辑</button>
                            <button class="btn btn-danger" dt-type="dlet" th:onclick="datatable.dlet([[${perm.id}]],[[${perm.name}]])">删除</button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <!--/*/ </th:block> /*/-->
        </div>

        <script src="../../static/assets/vendors/jquery/jquery-3.6.0.min.js"></script>
        <script src="../../static/assets/vendors/bootstrap/js/bootstrap.min.js"></script>
        <!--/*/ <th:block id="comjs"> /*/-->
        <script src="/assets/js/common/datatable.js"></script>
        <!--/*/ </th:block> /*/-->
        <!--/*/ <th:block id="prijs"> /*/-->
        <script src="/assets/js/admin/listPerm.js"></script>
        <!--/*/ </th:block> /*/-->
        <!--/*/ <th:block id="initjson"> /*/-->
        <script th:inline="JavaScript">
            window._chn = /*[[${_csrf.headerName}]]*/ "cpn";
            window._ctv = /*[[${_csrf.token}]]*/ "cpv";
        </script>
        <!--/*/ </th:block> /*/-->
    </body>
</html>
